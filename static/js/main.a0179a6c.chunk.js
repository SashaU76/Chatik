(this["webpackJsonpmy-chatik"]=this["webpackJsonpmy-chatik"]||[]).push([[0],{54:function(e,t,n){e.exports={center:"Loader_center__3HNLT",Loader2:"Loader_Loader2__3Z2cH","lds-roller":"Loader_lds-roller__3khiT"}},80:function(e,t,n){},81:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return R}));var c=n(7),a=n(1),r=n(15),i=n.n(r),o=(n(80),n(26)),s=n(42),j=(n(81),n(121)),d=n(122),u=n(120),l=n(126),h=n(38),b=n.n(h),x=n(47),O=n(117),p=n(127),g=n(123),f=n(30),m=n(62),v=n(54),y=n.n(v),w=function(){return Object(c.jsx)(O.a,{children:Object(c.jsx)(u.a,{container:!0,style:{height:window.innerHeight-90},alignItems:"center",justify:"center",children:Object(c.jsx)(u.a,{container:!0,alignItems:"center",direction:"column",children:Object(c.jsx)("div",{className:y.a.center,children:Object(c.jsxs)("div",{className:y.a.Loader2,children:[Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{}),Object(c.jsx)("div",{})]})})})})})},C=n(29),L=function(){var e=Object(a.useContext)(R),t=e.auth,n=e.firestore,r=Object(f.a)(t),i=Object(o.a)(r,1)[0],s=Object(a.useState)(""),j=Object(o.a)(s,2),d=j[0],h=j[1],v=Object(m.a)(n.collection("messages").orderBy("createdAt")),y=Object(o.a)(v,2),L=y[0],k=y[1];console.log(L);var I=function(){var e=Object(x.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:i.uid,displayName:i.displayName,photoURL:i.photoURL,text:d,createdAt:C.a.firestore.FieldValue.serverTimestamp()}),h("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return k?Object(c.jsx)(w,{}):Object(c.jsx)(O.a,{children:Object(c.jsxs)(u.a,{container:!0,style:{height:window.innerHeight-90,marginTop:20},justify:"center",children:[Object(c.jsx)("div",{style:{width:"80%",height:"70%",border:"1px solid gray",overflowY:"auto"},children:L.map((function(e){return Object(c.jsxs)("div",{style:{margin:10,border:i.uid===e.uid?"2px solid green":"2px solid red",marginLeft:i.uid===e.uid?"auto":"10px",borderRadius:20,width:"fit-content",padding:5},children:[Object(c.jsxs)(u.a,{container:!0,children:[Object(c.jsx)(p.a,{src:e.photoURL}),Object(c.jsx)("div",{children:e.displayName})]}),Object(c.jsx)("div",{children:e.text})]})}))}),Object(c.jsxs)(u.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(c.jsx)(g.a,{fullWidth:!0,rowsMax:2,variant:"outlined",value:d,onChange:function(e){return h(e.target.value)}}),Object(c.jsx)(l.a,{onClick:I,variant:"outlined",children:"Send"})]})]})})},k=n(125),I="/login",_="/chat",F=[{path:I,Component:function(){var e=Object(a.useContext)(R).auth,t=function(){var t=Object(x.a)(b.a.mark((function t(){var n,c,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new C.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:c=t.sent,a=c.user,console.log(a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.jsx)(O.a,{children:Object(c.jsx)(u.a,{container:!0,style:{height:window.innerHeight-90},alignItems:"center",justify:"center",children:Object(c.jsx)(u.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(c.jsx)(k.a,{p:5,variant:"outlined",children:Object(c.jsx)(l.a,{onClick:t,children:"Log in with Google"})})})})})}}],T=[{path:_,Component:L}],A=function(){var e=Object(a.useContext)(R).auth,t=Object(f.a)(e),n=Object(o.a)(t,1)[0];return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(j.a,{color:"secondary",position:"static",children:Object(c.jsx)(d.a,{children:Object(c.jsx)(u.a,{container:!0,justify:"flex-end",children:n?Object(c.jsx)(l.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"LogOut"}):Object(c.jsx)(s.b,{to:I,children:Object(c.jsx)(l.a,{variant:"outlined",children:"LogIn"})})})})})})},N=n(17),B=function(){var e=Object(a.useContext)(R).auth,t=Object(f.a)(e),n=Object(o.a)(t,1)[0];return console.log(n),Object(c.jsx)(c.Fragment,{children:n?Object(c.jsxs)(N.d,{children:[T.map((function(e){var t=e.path,n=e.Component;return Object(c.jsx)(N.b,{path:t,component:n,exact:!0},t)})),Object(c.jsx)(N.a,{to:_})]}):Object(c.jsxs)(N.d,{children:[F.map((function(e){var t=e.path,n=e.Component;return Object(c.jsx)(N.b,{path:t,component:n,exact:!0},t)})),Object(c.jsx)(N.a,{to:I})]})})};var H=function(){var e=Object(a.useContext)(R).auth,t=Object(f.a)(e),n=Object(o.a)(t,3);return n[0],n[1],n[2],Object(c.jsxs)(s.a,{basename:"/Chatik",children:[Object(c.jsx)(A,{}),Object(c.jsx)(B,{})]})},P=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,130)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};n(89),n(90);C.a.initializeApp({apiKey:"AIzaSyBKmqE2zWUtro4kYqyYsFMLREAjjcGq0fg",authDomain:"chatick-a39e6.firebaseapp.com",projectId:"chatick-a39e6",storageBucket:"chatick-a39e6.appspot.com",messagingSenderId:"781321853855",appId:"1:781321853855:web:d8b5995d243ef505a8bbaa",measurementId:"G-3L7EDZCTL0"});var R=Object(a.createContext)(null),S=C.a.auth(),E=C.a.firestore();i.a.render(Object(c.jsx)(R.Provider,{value:{firebase:C.a,auth:S,firestore:E},children:Object(c.jsx)(H,{})}),document.getElementById("root")),P()}},[[91,1,2]]]);
//# sourceMappingURL=main.a0179a6c.chunk.js.map